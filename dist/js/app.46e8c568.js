(function(e){function t(t){for(var o,s,l=t[0],r=t[1],c=t[2],u=0,f=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,l=1;l<n.length;l++){var r=n[l];0!==i[r]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},i={app:0},a=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=r;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07dc":function(e,t,n){},1945:function(e,t,n){"use strict";var o=n("242d"),i=n.n(o);i.a},"242d":function(e,t,n){},"2c51":function(e,t,n){"use strict";var o=n("fc81"),i=n.n(o);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("a133"),n("ed0d"),n("f09c"),n("e117");var o=n("a59a"),i=n("a3c5"),a=n.n(i),s=n("63c9"),l=n.n(s),r=(n("b9b6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),c=[],d=(n("5c0b"),n("e90a")),u={},f=Object(d["a"])(u,r,c,!1,null,null,null),p=f.exports,m=n("1bee"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button",{attrs:{type:"primary"},on:{click:e.turnToNext}},[e._v("test1")]),n("el-button",{attrs:{type:"primary"}},[e._v("test2")]),n("el-button",{attrs:{type:"primary"}},[e._v("test3")]),n("el-button",{attrs:{type:"primary"}},[e._v("test4")])],1)},b=[],v={data:function(){return{}},methods:{turnToNext:function(){this.$router.push({name:"addEngineCode"})}}},g=v,A=Object(d["a"])(g,h,b,!1,null,"d69cfd7c",null),w=A.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{attrs:{model:e.formData,"label-position":"right","label-width":"120px"}},[n("el-form-item",{attrs:{label:"App"}},[n("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.formData.app,callback:function(t){e.$set(e.formData,"app",t)},expression:"formData.app"}})],1),n("el-form-item",{attrs:{label:"group"}},[n("el-input",{attrs:{placeholder:""},model:{value:e.formData.group,callback:function(t){e.$set(e.formData,"group",t)},expression:"formData.group"}})],1),n("el-form-item",{attrs:{label:"engine.code"}},[n("el-input",{attrs:{placeholder:""},model:{value:e.formData.engineCode,callback:function(t){e.$set(e.formData,"engineCode",t)},expression:"formData.engineCode"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")]),n("el-button",[e._v("取消")])],1)],1)],1)},x=[],k=(n("e18c"),n("bb21"),n("82ae")),C=n.n(k),j=n("9fad");o["default"].use(j["a"]);var P=new j["a"].Store({state:{},mutations:{},actions:{},modules:{}}),_=C.a.create({baseURL:Object({NODE_ENV:"production",VUE_APP_HTML_TITLE:"Link",VUE_APP_PROXY_HOST:"http://localhost:8002/services",BASE_URL:"/"}).VUE_APP_BASE_API,timeout:2e4});_.defaults.withCredentials=!0,_.interceptors.request.use((function(e){return P.getters.token,e}),(function(e){return Promise.reject(e)})),_.interceptors.response.use((function(e){var t=e.data;return e.headers["content-type"]&&e.headers["content-type"].startsWith("application/json")&&200!==t.statusCode?(i["message"].error(t.message),Promise.reject(t)):Promise.resolve(t)}),(function(e){return i["message"].error(e.message,5),Promise.reject(e)}));var L=_,O="http://localhost:8002/services",D={upset:function(){return L.post(O+"/group/upsert")},infoUnitUpset:function(){return L.post(O+"/infoUnit/upsert")},rulesUpsert:function(){return L.post(O+"/rules/upsert")},eventUpsert:function(){return L.post(O+"/event/upsert")}},E=D,S={data:function(){return{formData:{app:"App",group:"",engineCode:""}}},methods:{onSubmit:function(){var e=this;E.upset(this.formData).then((function(t){200===t.statusCode&&e.$router.push({name:"regFormPage",query:{engineCode:e.formData.engineCode}})}))}}},T=S,$=Object(d["a"])(T,y,x,!1,null,"ee162f3e",null),B=$.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.AddListRow()}}},[e._v("添加信息元")]),n("div",{staticStyle:{clear:"both"}}),n("el-table",{attrs:{data:e.tableData,border:""}},[n("el-table-column",{attrs:{fixed:"left",label:"info.unit"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.infoUnit,callback:function(n){e.$set(t.row,"infoUnit",n)},expression:"scope.row.infoUnit"}})]}}])}),n("el-table-column",{attrs:{label:"info.service"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.infoService,callback:function(n){e.$set(t.row,"infoService",n)},expression:"scope.row.infoService"}})]}}])}),n("el-table-column",{attrs:{label:"namespace"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.namespace,callback:function(n){e.$set(t.row,"namespace",n)},expression:"scope.row.namespace"}})]}}])}),n("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.$index)}}},[e._v("删除")])]}}])})],1),n("el-button",{on:{click:function(t){return e.TurnToPre()}}},[e._v("上一步")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.turnToChart()}}},[e._v("确认数据")])],1)},M=[],F=(n("fe59"),n("ea69"),n("08ba"),{data:function(){return{tableData:[]}},methods:{TurnToPre:function(){history.back()},AddListRow:function(){this.tableData.push({infoUnit:"",infoService:"",namespace:""})},handleDelete:function(e){this.tableData.splice(e,1)},turnToChart:function(){var e=this;this.tableData.forEach((function(t){t.engineCode=e.$route.query.engineCode})),E.infoUnitUpset(this.tableData).then((function(t){200===t.statusCode&&e.$router.push({name:"jsplumbPage",query:e.$route.query.engineCode})}))}}}),R=F,I=Object(d["a"])(R,N,M,!1,null,"11ff079e",null),U=I.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("FlowPanel",{attrs:{engineCode:e.engineCode}})],1)},Z=[],G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.easyFlowVisible?n("div",[n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"flow-tooltar"},[n("el-link",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"}},[e._v(e._s(e.data.name))]),n("el-button",{attrs:{icon:"el-icon-document",size:"mini"},on:{click:e.dataInfo}},[e._v("默认流程")]),n("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.dataReloadA}},[e._v("流程A")]),n("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.dataReloadC}},[e._v("流程B")])],1)])],1),n("el-row",[n("el-col",{ref:"nodeMenu",attrs:{span:2}},[n("node-menu",{on:{addNode:e.addNode}})],1),n("el-col",{attrs:{span:22}},[n("el-row",[n("el-col",{attrs:{span:18}},[n("div",{ref:"flowContainer",staticClass:"container",attrs:{id:"flowContainer"}},[e._l(e.data.nodeList,(function(t){return[n("flow-node",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"node.show"}],key:t.id,attrs:{id:t.id,node:t},on:{deleteNode:e.deleteNode,changeNodeSite:e.changeNodeSite,nodeRightMenu:e.nodeRightMenu,clickNode:e.clickNode}})]}))],2)]),n("el-col",{attrs:{span:6}},[n("flow-node-form",{ref:"nodeForm"})],1)],1)],1)],1),e.flowInfoVisible?n("flow-info",{ref:"flowInfo",attrs:{data:e.data}}):e._e()],1):e._e()},z=[],W=(n("dbb3"),n("e50e"),n("48f3"),n("1c2e"),n("25d5")),J=n.n(W),Y={data:function(){return{jsplumbSetting:{Anchors:["Top","TopCenter","TopRight","TopLeft","Right","RightMiddle","Bottom","BottomCenter","BottomRight","BottomLeft","Left","LeftMiddle"],Container:"flowContainer",Connector:"Flowchart",ConnectionsDetachable:!1,DeleteEndpointsOnDetach:!1,Endpoint:["Dot",{radius:3}],EndpointStyle:{fill:"",outlineWidth:1},LogEnabled:!0,PaintStyle:{stroke:"#E0E3E7",strokeWidth:3},Overlays:[["Arrow",{width:10,length:8,location:1,foldback:.8}],["Label",{location:.1,id:"label",cssClass:"aLabel"}]],RenderMode:"svg",DragOptions:{cursor:"pointer",zIndex:2e3,hoverClass:"dropHover",activeClass:"dragActive"},scope:"green dot",HoverPaintStyle:{stroke:"#1879FF"}},jsplumbConnectOptions:{isSource:!0,isTarget:!0,anchor:"Continuous"},jsplumbSourceOptions:{filter:".flow-node-drag",filterExclude:!1,anchor:"Continuous",allowLoopback:!1},jsplumbTargetOptions:{filter:".flow-node-drag",filterExclude:!1,anchor:"Continuous",allowLoopback:!1}}}},X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"node",staticClass:"flow-node-container",style:e.nodeContainerStyle,on:{mouseenter:function(t){e.mouseEnter=!0},mouseleave:function(t){e.mouseEnter=!1},click:e.clickNode,mouseup:e.changeNodePosition}},[n("div",{staticClass:"flow-node-left"}),n("div",{staticClass:"flow-node-left-ico flow-node-drag"},[n("i",{class:e.nodeIcoClass})]),n("div",{staticClass:"flow-node-text",attrs:{"show-overflow-tooltip":!0}},[e._v(e._s(e.node.name))]),e.mouseEnter?n("div",{staticClass:"flow-node-right-ico",on:{click:e.deleteNode}},[n("i",{staticClass:"el-icon-delete"})]):e._e(),n("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("span",[e._v("是否执行本事件？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])],1)},q=[],H={props:{node:Object},data:function(){return{mouseEnter:!1,stateImg:n("a58f"),dialogVisible:!1}},computed:{nodeContainerStyle:function(){return{top:this.node.top,left:this.node.left}},nodeIcoClass:function(){var e={};return e[this.node.ico]=!0,e["flow-node-drag"]=!0,e}},methods:{deleteNode:function(){this.$emit("deleteNode",this.node.id)},clickNode:function(){"end"===this.node.type&&(this.dialogVisible=!0),this.$emit("clickNode",this.node.id)},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()}))["catch"]((function(e){}))},changeNodePosition:function(){this.node.left==this.$refs.node.style.left&&this.node.top==this.$refs.node.style.top||this.$emit("changeNodeSite",{nodeId:this.node.id,left:this.$refs.node.style.left,top:this.$refs.node.style.top})},confirm:function(){var e=this;E.eventUpsert().then((function(t){200===t.statusCode&&(e.$message.success("执行成功"),e.dialogVisible=!1)}))}}},Q=H,K=(n("c95b"),Object(d["a"])(Q,X,q,!1,null,null,null)),ee=K.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"tool",staticClass:"flow-menu"},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.menuList,(function(t){return n("el-collapse-item",{key:t.id,attrs:{name:t.id}},[n("template",{slot:"title"},[e._v(e._s(t.name))]),n("draggable",{attrs:{options:e.draggableOptions},on:{end:e.end,start:e.move},model:{value:t.children,callback:function(n){e.$set(t,"children",n)},expression:"menu.children"}},e._l(t.children,(function(t,o){return n("div",{key:o,staticClass:"flow-node-menu",style:t.style,attrs:{type:t.type}},[n("div",{staticClass:"flow-node-menu-left"}),n("div",{staticClass:"flow-node-menu-left-ico"},[n("i",{class:t.ico})]),n("div",{staticClass:"flow-node-menu-text"},[e._v(e._s(t.name))])])})),0)],2)})),1)],1)},ne=[],oe=(n("ecb4"),{left:-1,top:-1}),ie={data:function(){return{activeNames:"1",draggableOptions:{preventOnFilter:!1,sort:!1,disabled:!1,ghostClass:"tt",forceFallback:!0},defaultOpeneds:["1","2"],menuList:[{id:"1",type:"group",name:"流程节点",ico:"el-icon-video-play",children:[{id:"11",type:"task",name:"流程判断",ico:"el-icon-thumb",style:{}}]},{id:"2",type:"group",name:"事件节点",ico:"el-icon-video-pause",children:[{id:"21",type:"end",name:"事件",ico:"el-icon-finished",style:{}}]}],nodeMenu:{}}},components:{draggable:J.a},created:function(){this.isFirefox()&&(document.body.ondrop=function(e){oe.left=e.layerX,oe.top=e.clientY-50,e.preventDefault(),e.stopPropagation()})},methods:{getMenu:function(e){for(var t=0;t<this.menuList.length;t++)for(var n=this.menuList[t].children,o=0;o<n.length;o++)if(n[o].type===e)return n[o]},move:function(e,t,n,o){var i=e.item.attributes.type.nodeValue;this.nodeMenu=this.getMenu(i)},end:function(e,t){this.$emit("addNode",e,this.nodeMenu,oe)},isFirefox:function(){var e=navigator.userAgent;return e.indexOf("Firefox")>-1}}},ae=ie,se=(n("702b"),Object(d["a"])(ae,te,ne,!1,null,null,null)),le=se.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"流程数据信息",visible:e.dialogVisible,width:"70%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("codemirror",{staticClass:"code",attrs:{value:e.flowJsonData,options:e.options}})],1)},ce=[],de=n("8a2b");n("ab68");var ue={props:{data:Object},data:function(){return{dialogVisible:!1,flowJsonData:{},options:{mode:{name:"javascript",json:!0},lineNumbers:!0}}},components:{codemirror:de["codemirror"]},methods:{init:function(){this.dialogVisible=!0,this.flowJsonData=JSON.stringify(this.data,null,4).toString()}}},fe=ue,pe=Object(d["a"])(fe,re,ce,!1,null,null,null),me=pe.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flow-node-form"},[n("div",{staticClass:"flow-node-form-header"},[e._v("编辑")]),n("div",{staticClass:"flow-node-form-body"},[n("el-form",{ref:"dataForm",attrs:{model:e.node,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.node.type,callback:function(t){e.$set(e.node,"type",t)},expression:"node.type"}})],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:e.node.name,callback:function(t){e.$set(e.node,"name",t)},expression:"node.name"}})],1),n("el-form-item",{attrs:{label:"left坐标"}},[n("el-input",{model:{value:e.node.left,callback:function(t){e.$set(e.node,"left",t)},expression:"node.left"}})],1),n("el-form-item",{attrs:{label:"top坐标"}},[n("el-input",{model:{value:e.node.top,callback:function(t){e.$set(e.node,"top",t)},expression:"node.top"}})],1),n("el-form-item",{attrs:{label:"ico图标"}},[n("el-input",{model:{value:e.node.ico,callback:function(t){e.$set(e.node,"ico",t)},expression:"node.ico"}})],1),n("el-form-item",[n("el-button",{attrs:{icon:"el-icon-close"},on:{click:e.reset}},[e._v("重置")]),n("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)])},be=[],ve=(n("053b"),n("391c")),ge=n.n(ve),Ae={data:function(){return{node:{},data:{}}},methods:{init:function(e,t){var n=this;this.data=e,e.nodeList.filter((function(e){e.id===t&&(n.node=Object(ve["cloneDeep"])(e))}))},reset:function(){var e=this;this.data.nodeList.filter((function(t){t.id===e.node.id&&(e.node=Object(ve["cloneDeep"])(t))}))},save:function(){var e=this;this.data.nodeList.filter((function(t){t.id===e.node.id&&(t.name=e.node.name)}))}}},we=Ae,ye=(n("2c51"),Object(d["a"])(we,he,be,!1,null,null,null)),xe=ye.exports,ke={name:"流程A",nodeList:[{id:"nodeA",name:"流程A-节点A",type:"task",left:"26px",top:"161px",ico:"el-icon-thumb",show:!0},{id:"nodeB",name:"流程A-节点B",type:"task",left:"340px",top:"161px",ico:"el-icon-thumb",show:!0},{id:"nodeC",name:"流程A-节点C",type:"end",left:"739px",top:"161px",ico:"el-icon-finished",show:!0}],lineList:[{from:"nodeA",to:"nodeB"},{from:"nodeB",to:"nodeC"}]};function Ce(){return ke}var je={name:"流程B",nodeList:[{id:"nodeA",name:"流程B-节点A",type:"task",left:"18px",top:"223px",ico:"el-icon-user-solid",show:!0},{id:"nodeB",type:"task",name:"流程B-节点B",left:"351px",top:"96px",ico:"el-icon-goods",show:!0},{id:"nodeC",name:"流程B-节点C",type:"task",left:"354px",top:"351px",ico:"el-icon-present",show:!0},{id:"nodeD",name:"流程B-节点D",type:"task",left:"773px",top:"215px",ico:"el-icon-present",show:!0}],lineList:[{from:"nodeA",to:"nodeB"},{from:"nodeA",to:"nodeC"},{from:"nodeB",to:"nodeD"},{from:"nodeC",to:"nodeD"}]};function Pe(){return je}var _e={name:"流程C",nodeList:[{id:"nodeA",name:"流程C-节点A",type:"task",left:"400px",top:"15px",ico:"el-icon-thumb",show:!0},{id:"nodeB",name:"流程C-节点B",type:"task",left:"400px",top:"200px",ico:"el-icon-thumb",show:!0},{id:"nodeC",name:"流程C-节点C",type:"end",left:"400px",top:"378px",ico:"el-icon-finished",show:!0}],lineList:[{from:"nodeA",to:"nodeB"},{from:"nodeB",to:"nodeC"}]};function Le(){return _e}var Oe={props:{engineCode:{type:String,default:""}},data:function(){return{jsPlumb:null,easyFlowVisible:!0,flowInfoVisible:!1,loadEasyFlowFinish:!1,data:{}}},mixins:[Y],components:{draggable:J.a,flowNode:ee,nodeMenu:le,FlowInfo:me,FlowNodeForm:xe},mounted:function(){var e=this;this.jsPlumb=s["jsPlumb"].getInstance(),this.$nextTick((function(){e.dataReload(Ce())}))},methods:{getUUID:function(){return Math.random().toString(36).substr(3,10)},jsPlumbInit:function(){var e=this;this.jsPlumb.ready((function(){e.jsPlumb.importDefaults(e.jsplumbSetting),e.jsPlumb.setSuspendDrawing(!1,!0),e.loadEasyFlow(),e.jsPlumb.bind("click",(function(t,n){e.$confirm("确定删除所点击的线吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.jsPlumb.deleteConnection(t)}))["catch"]((function(){}))})),e.jsPlumb.bind("connection",(function(t){var n=t.source.id,o=t.target.id;e.loadEasyFlowFinish&&e.data.lineList.push({from:n,to:o})})),e.jsPlumb.bind("connectionDetached",(function(t){e.deleteLine(t.sourceId,t.targetId)})),e.jsPlumb.bind("connectionMoved",(function(t){e.changeLine(t.originalSourceId,t.originalTargetId)})),e.jsPlumb.bind("contextmenu",(function(e){})),e.jsPlumb.bind("beforeDrop",(function(t){var n=t.sourceId,o=t.targetId;return n===o?(e.$message.error("节点不支持连接自己"),!1):e.hasLine(n,o)?(e.$message.error("该关系已存在,不允许重复创建"),!1):e.hashOppositeLine(n,o)?(e.$message.error("不支持两个节点之间连线回环"),!1):(e.$message.success("连接成功"),!0)})),e.jsPlumb.bind("beforeDetach",(function(e){}))}))},loadEasyFlow:function(){for(var e=0;e<this.data.nodeList.length;e++){var t=this.data.nodeList[e];this.jsPlumb.makeSource(t.id,this.jsplumbSourceOptions),this.jsPlumb.makeTarget(t.id,this.jsplumbTargetOptions),this.jsPlumb.draggable(t.id,{containment:"parent"})}for(var n=0;n<this.data.lineList.length;n++){var o=this.data.lineList[n];this.jsPlumb.connect({source:o.from,target:o.to},this.jsplumbConnectOptions)}this.$nextTick((function(){this.loadEasyFlowFinish=!0}))},deleteLine:function(e,t){this.data.lineList=this.data.lineList.filter((function(n){return n.from!=e||n.to!=t}))},changeLine:function(e,t){this.deleteLine(e,t)},changeNodeSite:function(e){for(var t=0;t<this.data.nodeList.length;t++){var n=this.data.nodeList[t];n.id===e.nodeId&&(n.left=e.left,n.top=e.top)}},addNode:function(e,t,n){var o=this.$refs.nodeMenu.$el.clientWidth,i=this.getUUID(),a=n.left,s=n.top;a<0&&(a=e.originalEvent.layerX-o),s<0&&(s=e.originalEvent.clientY-50);var l={id:i,name:i,type:t.type,left:a+"px",top:s+"px",ico:t.ico,show:!0};this.data.nodeList.push(l),this.$nextTick((function(){this.jsPlumb.makeSource(i,this.jsplumbSourceOptions),this.jsPlumb.makeTarget(i,this.jsplumbTargetOptions),this.jsPlumb.draggable(i,{containment:"parent"})}))},deleteNode:function(e){var t=this;return this.$confirm("确定要删除节点"+e+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnClickModal:!1}).then((function(){t.data.nodeList=t.data.nodeList.filter((function(t){return t.id===e&&(t.show=!1),!0})),t.$nextTick((function(){this.jsPlumb.removeAllEndpoints(e)}))}))["catch"]((function(){})),!0},clickNode:function(e){this.$refs.nodeForm.init(this.data,e)},hasLine:function(e,t){for(var n=0;n<this.data.lineList.length;n++){var o=this.data.lineList[n];if(o.from===e&&o.to===t)return!0}return!1},hashOppositeLine:function(e,t){return this.hasLine(t,e)},nodeRightMenu:function(e,t){this.menu.show=!0,this.menu.curNodeId=e,this.menu.left=t.x+"px",this.menu.top=t.y+"px"},dataInfo:function(){this.flowInfoVisible=!0,this.$nextTick((function(){this.$refs.flowInfo.init()}))},dataReload:function(e){var t=this;this.easyFlowVisible=!1,this.data.nodeList=[],this.data.lineList=[],this.$nextTick((function(){e=ge.a.cloneDeep(e),t.easyFlowVisible=!0,t.data=e,t.$nextTick((function(){t.jsPlumb=s["jsPlumb"].getInstance(),t.$nextTick((function(){t.jsPlumbInit()}))}))}))},dataReloadA:function(){this.dataReload(Ce())},dataReloadB:function(){this.dataReload(Pe())},dataReloadC:function(){this.dataReload(Le())},changeLabel:function(){var e=this.jsPlumb.getConnections({source:"nodeA",target:"nodeB"});e[0].setLabel({label:"",cssClass:"labelClass a b"})}}},De=Oe,Ee=(n("1945"),Object(d["a"])(De,G,z,!1,null,null,null)),Se=Ee.exports,Te={props:{engineCode:{type:String,default:""}},components:{FlowPanel:Se},data:function(){return{}},created:function(){},mounted:function(){}},$e=Te,Be=(n("f4a4"),Object(d["a"])($e,V,Z,!1,null,"371e379e",null)),Ne=Be.exports;o["default"].use(m["a"]);var Me=[{path:"/",name:"index",component:w},{path:"/add_engine_code",name:"addEngineCode",component:B},{path:"/reg_form_page",name:"regFormPage",component:U},{path:"/jsplumb_page",name:"jsplumbPage",component:Ne}],Fe=new m["a"]({mode:"history",base:"/",routes:Me}),Re=Fe,Ie=n("b5ab"),Ue=n.n(Ie);n("6758");o["default"].prototype.$axios=C.a,o["default"].prototype.$=Ue.a,o["default"].use(a.a),o["default"].use(de["codemirror"]),o["default"].prototype.$jsPlumb=l.a.jsPlumb,o["default"].prototype.$bus=new o["default"],o["default"].config.productionTip=!1,new o["default"]({router:Re,store:P,render:function(e){return e(p)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var o=n("8425"),i=n.n(o);i.a},"702b":function(e,t,n){"use strict";var o=n("d048"),i=n.n(o);i.a},8425:function(e,t,n){},a58f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAuNJREFUSMdjYBhgwEhIQf3/i8UZO8XEWB7+E/gjn5fH+J2Bl1Hb1JQhlGEvQ+///+jq/x9mzP9/99QpZo3/DX8lJk+ueml4ZH7169ckO6D184W4VNOwsP+n/t9jSEhPZ/z7X5xpSlvbL1fDNRLX9u9vZGRkbGT89w/h0P//6/8zMbEcucD/bJmTE+MvBj2GD5WV/xOZ3v0LnDq19pH+tblS69YRDBKYxS17L0xLVVq0aOaMM6fTUllZSQ3a+v9XQ0JD2Nha1p2fnVq2ZEmz3EWt5GdBQQSDumXveZvUqXv3kmsxTodAza3/f+Z0WqqICEyeCcZgffxv498nubmwoE7PMDGdNfv3b3Itbpl4dlvKRAuLRkbtNavX/Pr1/xWjBeOFzk42LubL/1KyszEcwGDHsJ7BxtwcFsfkWtx8+Dxf6tKODsYKphcMFu7uMHF15ltm7z/s3fv/HMMnRisrK0wXP7mQn7Jj+3ZCPiJkccv58w/SmFtbcZqDZg8TA7GgjqmNkcXNrWXWBZlU7+5uDB/zMFxijPv7t8bQUGHW3+pqYo1FOMDmfwqjIjPzqlWrVoWGMjOjK6z5aHhkdnZTE4PHfw6GoB8/WkrOz0x9fPIksRbDzfX4f4/xBiMjpgOuMnYzxBw/fvuZqiT/dScnXAbVyBnemZ1cW8vwleEGw8LCQmJ9fPOxSp/QcVdXxk//uxmvHT2KoQCWPRDZBZJ9iI4iHGCSx+2c3G3s7C1c52tTefftq/9/NSS5V0gIpwZIARQY2Pzg/LOUG0uXwgwg1eL6//v/x//n4GiZeN4mTXzFipY/F4uT9/r6Em1As9H5/2lpAQEwl7dmXJRP+eLujiuNwMRbnc49S93k6dmy4fy+1Dv79xOymGBl1LbnlFT2SWHhf8GsSr/OZGczCDJMZ3CxsWEQZ4xkyPnzB67w5f/lDFNYWBgYGDcw+B869Ps+68V/qdOmNTJqr5lb/O4dpVFJMwAAnYpz4ehj5WwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDMtMTNUMTY6NTA6NTArMDg6MDDATSuIAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAzLTEzVDE2OjUwOjUwKzA4OjAwsRCTNAAAAFB0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fODdkZHIxcjM5M3kvemhlbmdxdWUteGlhbi5zdmepc45dAAAAAElFTkSuQmCC"},c95b:function(e,t,n){"use strict";var o=n("07dc"),i=n.n(o);i.a},d048:function(e,t,n){},e274:function(e,t,n){},f4a4:function(e,t,n){"use strict";var o=n("e274"),i=n.n(o);i.a},fc81:function(e,t,n){}});